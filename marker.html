<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>WebAR Markerless</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <style>
    body { margin: 0; overflow: hidden; }
    #menu {
      position: fixed;
      top: 10px; left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.6);
      padding: 10px;
      border-radius: 8px;
      display: flex; gap: 10px; flex-wrap: wrap;
    }
    button {
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      background: #ff9800;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover { background: #ffa733; }
  </style>
</head>
<body>
  <!-- Menu Pilihan -->
  <div id="menu">
    <button onclick="showModel('rumah_sebujit')">Sebujit Rumah</button>
    <button onclick="showModel('nyobeng_sebujit')">Sebujit Ritual</button>
    <button onclick="showModel('rumah_jagoi')">Jagoi Rumah</button>
    <button onclick="showModel('gawia_jagoi')">Jagoi Ritual</button>
  </div>

  <a-scene
    vr-mode-ui="enabled: false"
    embedded
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: true;">
    
    <a-assets>
      <!-- Models -->
      <a-asset-item id="rumah_sebujit" src="assets/rumah_sebujit.glb"></a-asset-item>
      <a-asset-item id="nyobeng_sebujit" src="assets/nyobeng_sebujit.glb"></a-asset-item>
      <a-asset-item id="rumah_jagoi" src="assets/rumah_jagoi.glb"></a-asset-item>
      <a-asset-item id="gawia_jagoi" src="assets/gawia_jagoi.glb"></a-asset-item>
    </a-assets>

    <!-- Container untuk model -->
    <a-entity id="model-container" position="0 0 -2"></a-entity>

    <!-- Kamera -->
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    function showModel(id) {
      const container = document.getElementById("model-container");
      container.setAttribute("gltf-model", "#" + id);

      // Atur scale sesuai kategori
      if (id.includes("rumah")) {
        container.setAttribute("scale", "0.4 0.4 0.4");
      } else {
        container.setAttribute("scale", "5 5 5");
      }

      // Animasi rotasi
      container.setAttribute("animation",
        "property: rotation; to: 0 360 0; loop: true; dur: 15000; easing: linear"
      );
    }
  </script>
</body>
</html>
